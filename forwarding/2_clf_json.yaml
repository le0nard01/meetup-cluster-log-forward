apiVersion: logging.openshift.io/v1
kind: ClusterLogForwarder
metadata:
  name: forwarding
  namespace: openshift-logging # ClusterLogging Version 5.9.9
spec:
  inputs:
    - application:
        namespaces:
          - core-application
      name: my-app-logs

  outputs:
    - elasticsearch:
        version: 8
        structuredTypeKey: kubernetes.labels.logFormat # Label logFormat ser√° utilizada para identificar o Schema
      name: elasticsearch-external
      secret:
        name: elastic-secret
      type: elasticsearch
      url: 'http://elasticsearch-es-http.elastic-eck.svc:9200/'

  pipelines:
    - inputRefs:
        - my-app-logs
      name: application-logs
      outputRefs:
        - elasticsearch-external
      parse: json # Parse dos logs em JSON

  serviceAccountName: cluster-logging-operator